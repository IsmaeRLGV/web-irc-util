--- src/match.c.orig	2007-02-28 13:17:46.000000000 +0900
+++ src/match.c	2009-10-17 10:07:37.000000000 +0900
@@ -505,132 +505,132 @@
 /* } */      PRINT_C|ALPHA_C|NICK_C|CHAN_C|VCHAN_C|NONEOS_C|USER_C,
 /* ~ */      PRINT_C|ALPHA_C|CHAN_C|VCHAN_C|NONEOS_C|USER_C,
 /* del  */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x80 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x81 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x82 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x83 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x84 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x85 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x86 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x87 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x88 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x89 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x8A */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x8B */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x8C */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x8D */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x8E */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x8F */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x90 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x91 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x92 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x93 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x94 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x95 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x96 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x97 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x98 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x99 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x9A */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x9B */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x9C */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x9D */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x9E */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0x9F */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xA0 */   CHAN_C|NONEOS_C,
-/* 0xA1 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xA2 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xA3 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xA4 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xA5 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xA6 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xA7 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xA8 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xA9 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xAA */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xAB */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xAC */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xAD */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xAE */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xAF */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB0 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB1 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB2 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB3 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB4 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB5 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB6 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB7 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB8 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xB9 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xBA */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xBB */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xBC */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xBD */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xBE */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xBF */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC0 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC1 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC2 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC3 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC4 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC5 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC6 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC7 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC8 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xC9 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xCA */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xCB */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xCC */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xCD */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xCE */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xCF */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD0 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD1 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD2 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD3 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD4 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD5 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD6 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD7 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD8 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xD9 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xDA */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xDB */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xDC */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xDD */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xDE */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xDF */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE0 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE1 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE2 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE3 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE4 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE5 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE6 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE7 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE8 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xE9 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xEA */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xEB */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xEC */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xED */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xEE */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xEF */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF0 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF1 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF2 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF3 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF4 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF5 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF6 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF7 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF8 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xF9 */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xFA */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xFB */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xFC */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xFD */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xFE */   CHAN_C|VCHAN_C|NONEOS_C,
-/* 0xFF */   CHAN_C|VCHAN_C|NONEOS_C
+/* 0x80 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x81 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x82 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x83 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x84 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x85 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x86 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x87 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x88 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x89 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x8A */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x8B */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x8C */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x8D */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x8E */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x8F */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x90 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x91 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x92 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x93 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x94 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x95 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x96 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x97 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x98 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x99 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x9A */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x9B */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x9C */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x9D */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x9E */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0x9F */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xA0 */   NICK_C|CHAN_C|NONEOS_C,
+/* 0xA1 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xA2 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xA3 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xA4 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xA5 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xA6 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xA7 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xA8 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xA9 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xAA */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xAB */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xAC */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xAD */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xAE */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xAF */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB0 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB1 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB2 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB3 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB4 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB5 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB6 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB7 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB8 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xB9 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xBA */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xBB */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xBC */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xBD */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xBE */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xBF */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC0 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC1 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC2 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC3 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC4 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC5 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC6 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC7 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC8 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xC9 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xCA */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xCB */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xCC */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xCD */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xCE */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xCF */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD0 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD1 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD2 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD3 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD4 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD5 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD6 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD7 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD8 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xD9 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xDA */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xDB */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xDC */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xDD */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xDE */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xDF */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE0 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE1 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE2 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE3 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE4 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE5 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE6 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE7 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE8 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xE9 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xEA */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xEB */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xEC */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xED */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xEE */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xEF */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF0 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF1 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF2 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF3 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF4 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF5 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF6 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF7 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF8 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xF9 */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xFA */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xFB */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xFC */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xFD */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xFE */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C,
+/* 0xFF */   NICK_C|CHAN_C|VCHAN_C|NONEOS_C
 };
